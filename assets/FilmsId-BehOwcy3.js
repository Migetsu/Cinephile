import{p as I,q as S,s as R,y as m,z as U,u as z,A,B as E,j as w,C as u,k as L,r as h,b as Q,c as d,f as e,g as a,t as o,F as b,n as y,a as f,x as j,N as q,o as l,d as O,w as W,e as X}from"./index-DUkFJAyo.js";const Y=I("movieRecsStore",{state:()=>({path:"https://api.themoviedb.org/3/movie/",recs:null}),actions:{async getRecs(i){this.trailer=null;try{const n=(await S.get(`${this.path}${i}/recommendations?language=ru-RU`,R)).data;this.recs=n.results}catch(t){console.log(t)}}},getters:{getMovieRecs:i=>t=>i.recs?i.recs.slice(0,t):[]}}),G=I("movieTrailerStore",{state:()=>({path:"https://api.themoviedb.org/3/movie/",trailer:null}),actions:{async getTrailer(i){this.trailer=null;try{const n=(await S.get(`${this.path}${i}/videos?language=ru-RU`,R)).data;this.trailer=n}catch(t){console.log(t)}}},getters:{}}),H={key:0,class:"main"},J={class:"main__contentId"},K={class:"main__contentId-media"},Z=["src"],ee={class:"main__contentId-media-block"},te={class:"main__contentId-media-left"},se={class:"main__contentId-media-left-title"},oe={class:"main__contentId-media-left-text"},ae={class:"main__contentId-media-left-genre"},ie={class:"main__contentId-media-date"},ne=["href"],ce=e("span",{class:"main__contentId-media-span"},"Смотреть Трейлер",-1),le={class:"main__contentId-media-right"},de=["src"],re={class:"main__contentId-media-actors"},_e=e("h2",{class:"main__contentId-media-title"},"В главных ролях",-1),me={class:"main__contentId-media-casts"},ue={class:"main__budgetBlock container"},he={class:"main__budgetBlock-item"},ve=e("h4",{class:"budgetBlock-title"},"Бюджет",-1),ge={class:"budgetBlock-descr"},pe={class:"main__budgetBlock-item"},ke=e("h4",{class:"budgetBlock-title"},"Сборы",-1),we={class:"budgetBlock-descr"},be={class:"main__budgetBlock-item"},ye=e("h4",{class:"budgetBlock-title"},"Статус",-1),fe={class:"budgetBlock-descr"},Be={class:"main__budgetBlock-item"},Ie=e("h4",{class:"budgetBlock-title"},"Исходное название",-1),Se={class:"budgetBlock-descr"},Re={class:"main__recomendations container"},$e=e("h3",{class:"main__recomendations-title"},"Рекомендации",-1),Me={class:"main__recomendations-list"},xe={alt:"",class:"main__recomendations-item-img"},Ve={class:"main__recomendations-item-name"},Ce={key:1,class:"loading"},De=e("div",{class:"loading__spiner"},null,-1),Fe=[De],B="/movie/",Ue={__name:"FilmsId",setup(i){m({breakpoints:{320:{slidesPerView:1},576:{slidesPerView:2},900:{slidesPerView:3},1200:{slidesPerView:4},1450:{slidesPerView:5.5}}}),m([q]);const t=U(),n=z(),v=Y(),g=G(),$=A(),M=E(),x=w(4);m([1,2,3,4]);const s=u(()=>t.movie);var _=u(()=>g.trailer),p=w(null);L(async()=>{await k($.params.id)});const k=async r=>{await t.getMovieById(r),await g.getTrailer(t.movie.id),await v.getRecs(t.movie.id),p.value=V.value},V=u(()=>v.getMovieRecs(x.value)),C=async r=>{await k(r),M.push(`${B}${r}`),window.scrollTo(0,0)};return(r,Pe)=>{const D=h("fa"),F=h("Actor"),P=h("router-link"),T=Q("lazy");return s.value?(l(),d("div",H,[e("div",J,[e("div",K,[e("img",{src:a(n).imageFullUrl+s.value.backdrop_path,alt:"",class:"main__contentId-media-poster"},null,8,Z),e("div",ee,[e("div",te,[e("h1",se,o(s.value.title),1),e("p",oe,o(s.value.overview),1),e("p",ae,[e("span",ie,o(new Date(s.value.release_date).getFullYear()),1),(l(!0),d(b,null,y(s.value.genres,c=>(l(),d("span",{key:c.id},o(c.name),1))),128))]),a(_)?(l(),d("a",{key:0,href:a(_)&&a(_).results.length?`https://www.youtube.com/watch?v=${a(_).results[0].key}`:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",class:"main__contentId-media-trailer",target:"_blank"},[f(D,{icon:"play",class:"main__contentId-media-icon"}),ce],8,ne)):j("",!0)]),e("div",le,[e("img",{src:a(n).imageFullUrl+s.value.poster_path,alt:""},null,8,de)]),e("div",re,[_e,e("div",me,[f(F,{type:"/movie/",id:s.value.id,count:6},null,8,["id"])])])])])]),e("div",ue,[e("div",he,[ve,e("p",ge,o(`$${s.value.budget.toLocaleString("de-DE")}`),1)]),e("div",pe,[ke,e("p",we,o(`$${s.value.revenue.toLocaleString("de-DE")}`),1)]),e("div",be,[ye,e("p",fe,o(s.value.status),1)]),e("div",Be,[Ie,e("p",Se,o(s.value.original_title),1)])]),e("div",Re,[$e,e("div",Me,[(l(!0),d(b,null,y(a(p),(c,N)=>(l(),O(P,{to:B+c.id,class:"main__recomendations-item",key:N,onClick:Te=>C(c.id)},{default:W(()=>[X(e("img",xe,null,512),[[T,a(n).imageFullUrl+c.backdrop_path]]),e("h2",Ve,o(c.title),1)]),_:2},1032,["to","onClick"]))),128))])])])):(l(),d("div",Ce,Fe))}}};export{Ue as default};
//# sourceMappingURL=FilmsId-BehOwcy3.js.map

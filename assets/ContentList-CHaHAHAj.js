import{u as h,r as g,b as f,o as c,d,w,e as S,f as k,g as a,t as p,h as x,i as y,j as u,k as M,l as C,m as b,c as v,F as B,n as L}from"./index-BRLgfXmZ.js";const P={alt:"",class:"main__content-item-img"},T={class:"main__content-item-name"},D={__name:"ContentItem",props:{item:Object,content:String},setup(n){const i=h();return(l,o)=>{const e=g("router-link"),s=f("lazy");return c(),d(e,{to:"#",class:"main__content-item"},{default:w(()=>[S(a("img",P,null,512),[[s,k(i).imageFullUrl+n.item.backdrop_path]]),a("h2",T,p(n.item.title||n.item.name),1)]),_:1})}}},E={class:"container"},F={class:"main__content"},$={class:"main__content-title"},j={class:"main__content-list"},U={__name:"ContentList",props:{content:String},setup(n){const i=x(),l=y(),o=n,e=u(1),s=u(!1),t=u([]),r=async()=>{s.value||(s.value=!0,o.content==="movie"?(await i.getPopularMovie(e.value),t.value=[...t.value,...i.popularMovies]):(await l.getPopularTvs(e.value),t.value=[...t.value,...l.popularTvs]),s.value=!1,e.value++)},_=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-10&&r()};return M(()=>{r(),window.addEventListener("scroll",_)}),C(()=>o.content,()=>{e.value=1,t.value=[],r()}),b(()=>{window.removeEventListener("scroll",_)}),(z,H)=>(c(),v("div",E,[a("div",F,[a("h2",$,p(o.content=="movie"?"Все фильмы":"Все сериалы"),1),a("div",j,[(c(!0),v(B,null,L(t.value,m=>(c(),d(D,{key:m.id,item:m,content:o.content},null,8,["item","content"]))),128))])])]))}};export{U as _};
//# sourceMappingURL=ContentList-CHaHAHAj.js.map
